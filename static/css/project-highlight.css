/* Highlight animation for project cards when clicked from About section */
@keyframes highlightPulse {

    0%,
    100% {
        box-shadow: 8px 8px 0px rgba(0, 0, 0, 1);
        transform: scale(1);
    }

    50% {
        box-shadow:
            8px 8px 0px rgba(0, 0, 0, 1),
            0 0 0 8px rgba(251, 191, 36, 0.4),
            0 0 0 16px rgba(251, 191, 36, 0.2);
        transform: scale(1.02);
    }
}

.highlight-project {
    animation: highlightPulse 1s ease-in-out 2;
}

.highlight-project>div>div {
    border-color: #fbbf24 !important;
    background: linear-gradient(135deg, #fffbeb 0%, #ffffff 100%) !important;
}

/* Modal Effect - Card flies to center and enlarges */
.project-modal-active {
    position: fixed !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) scale(1.3) !important;
    transform-origin: center center !important;
    z-index: 10000 !important;
    transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) !important;
    box-shadow:
        0 25px 50px -12px rgba(0, 0, 0, 0.5),
        0 0 100px rgba(0, 0, 0, 0.3) !important;
    filter: brightness(1.1) blur(0px) !important;
    will-change: transform;
    margin: 0 !important;
    /* Responsive sizing - ensure content stays within viewport */
    max-width: 85vw !important;
    max-height: 85vh !important;
    overflow: visible !important;
}

.project-modal-active>div>div {
    border-color: #000 !important;
    background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%) !important;
    /* Ensure content doesn't overflow */
    max-width: 100% !important;
    overflow: hidden !important;
}

/* Position number badge at top-right corner of card */
.project-modal-active .timeline-dots {
    opacity: 1 !important;
    visibility: visible !important;
    position: absolute !important;
    top: -15px !important;
    right: -15px !important;
    left: auto !important;
    transform: none !important;
    z-index: 10002 !important;
    transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) !important;
    flex-direction: row !important;
    margin: 0 !important;
    pointer-events: none !important;
}

/* Style the number circle as a badge */
.project-modal-active .timeline-dots>div:first-child {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 55px !important;
    height: 55px !important;
    box-shadow:
        4px 4px 0px rgba(0, 0, 0, 1),
        0 4px 12px rgba(0, 0, 0, 0.3) !important;
}

/* Hide yellow dot, keep only number circle */
.project-modal-active .timeline-dots>div:last-child {
    display: none !important;
}

/* Hide the central white timeline line when any modal is active */
.timeline-blur-bg .timeline-projects>div:first-child {
    opacity: 0 !important;
    visibility: hidden !important;
    transition: opacity 0.3s ease, visibility 0.3s ease;
}

/* Blur overlay - separate element for background blur */
.timeline-scroll-container.timeline-blur-bg::after {
    content: '';
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    z-index: 9998;
    pointer-events: none;
    transition: all 0.4s ease;
}

/* Ensure other timeline items get blurred but not the active one */
.timeline-blur-bg .timeline-project-item:not(.project-modal-active) {
    filter: blur(6px);
    opacity: 0.5;
    transition: all 0.4s ease;
}

/* Flip back animation when returning to position */
@keyframes flipBackToPosition {
    0% {
        transform: translate(-50%, -50%) scale(1.5) rotateY(0deg);
        opacity: 1;
    }

    50% {
        transform: translate(-50%, -50%) scale(1.2) rotateY(180deg);
        opacity: 0.7;
    }

    100% {
        transform: translate(0, 0) scale(1) rotateY(360deg);
        opacity: 1;
    }
}

.project-modal-closing {
    animation: flipBackToPosition 0.8s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

/* Close button for modal */
.project-modal-close {
    position: absolute;
    top: -15px;
    right: -15px;
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, #ef4444, #dc2626);
    border: 3px solid #000;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    font-weight: 900;
    color: #fff;
    cursor: pointer;
    z-index: 10001;
    box-shadow:
        4px 4px 0px rgba(0, 0, 0, 1),
        0 4px 12px rgba(0, 0, 0, 0.3);
    transition: all 0.3s ease;
    animation: closeButtonPulse 2s infinite;
}

.project-modal-close:hover {
    transform: rotate(90deg) scale(1.1);
    background: linear-gradient(135deg, #dc2626, #b91c1c);
    box-shadow:
        6px 6px 0px rgba(0, 0, 0, 1),
        0 6px 16px rgba(0, 0, 0, 0.4);
}

@keyframes closeButtonPulse {

    0%,
    100% {
        box-shadow:
            4px 4px 0px rgba(0, 0, 0, 1),
            0 4px 12px rgba(0, 0, 0, 0.3);
    }

    50% {
        box-shadow:
            4px 4px 0px rgba(0, 0, 0, 1),
            0 4px 12px rgba(0, 0, 0, 0.3),
            0 0 0 4px rgba(239, 68, 68, 0.4);
    }
}